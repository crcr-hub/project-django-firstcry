{% load static %}
{% load custom_filters %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Automatic Carousel</title>

  <link rel="stylesheet" type="text/css" href=" {% static 'styles/css.css' %}" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link rel="stylesheet" type="text/css" href="{% static 'styles/bootstrap.min.css ' %}">

  <link rel="stylesheet" type="text/css" href="{% static 'styles/font-awesome.css' %}">

  <link rel="stylesheet" href="{% static 'styles/templatemo-hexashop.css' %}">

  <link rel="stylesheet" href="{% static 'styles/menubar.css' %}">

  <link rel="stylesheet" href="{% static 'styles/new.css' %}">

  <link rel="stylesheet" href="{% static 'styles/foruser.css' %}">

  <link rel="stylesheet" href="{% static 'adminstyle2/css/style.css' %}">
  <!-- End layout styles -->
  <link rel="shortcut icon" href="{% static 'adminstyle2/images/favicon.ico' %}" />






<style>

   #menu1234 {

    background-color: #ffffff;
    color: rgb(16, 16, 16);
    padding: 20px;
}

#data {
    flex: 1;
    padding: 20px;
}

#menu1234 a {
    text-decoration: none;
    color: rgb(10, 10, 10);
    display: block;
    margin-bottom: 10px;
    font-size: 15px;
    height: 35px;
    border-top: 5px solid #fefcfc; /* Initially set the top border */
    transition: border-top-color 0.3s; /* Transition for a smooth effect */
    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
}

#menu1234 a:hover {
    background-color: #c6c5c5;
    border-top-color: #c6c5c5; /* Change the top border color on hover */
}
#menu1234 a span{
    margin-left: 20px;
}
body {
  background-color: rgb(239, 234, 234);
}
#images {
  flex-grow: 1; /* This makes the images div take up the remaining space */
  display: block;
  flex-wrap: wrap; /* Allow images to wrap to the next line */
  justify-content: space-between; /* Adjust the spacing between columns */
  padding: 20px;
}

#images img {
  width: 100%; /* Adjust the width of each image, accounting for spacing */
  margin-bottom: 20px; /* Add some spacing between images */
  box-sizing: border-box; /* Include padding and border in the width */
}
.popupaddaddrs{
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 900px; /* Adjust the width as needed */
  background-color: #f1f1f1;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
  z-index: 9999; 
}
.popupaddrs-content {
  max-height: 100%;
  overflow-y: auto;
}

.popup {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  width: 600px; /* Adjust the width as needed */
  background-color: #f1f1f1;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  padding: 20px;
  z-index: 9999; 
}

.popup-content {
  max-height: 100%;
  overflow-y: auto;
}

button {
  margin-top: 10px;
}

.couponpopup {
    display: none;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: 420px; /* Adjust the width as needed */
    background-color: #f1f1f1;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    z-index: 9999; 
    overflow: auto;
  }
  .cpopup-content1 h5,.cpopup-content3 h5{
    font-size: 18px;
    margin-top: 10px;
    margin-left: 10px;
  }
  .cpopup-content1{
    max-height: 100%;
    overflow-y: scroll;
  
 
    box-shadow: 
      
        4px 0px 4px -2px rgb(1, 100, 20), /* Right side shadow */
        -4px 0px 4px -2px rgb(1, 100, 20), /* Left side shadow */
        0 -4px 4px -2px rgb(1, 100, 20);
      
        
    height: 100px; 
    border-radius: 10px; 
    border-bottom: 0px;
  }
  .cpopup-content2{
    max-height: 100%;
    overflow-y: auto;
    box-shadow: 
    4px 0px 4px -2px rgb(1, 100, 20), /* Right side shadow */
    -4px 0px 4px -2px rgb(1, 100, 20), /* Left side shadow */
    0px 4px 4px -2px rgb(1, 100, 20); /* Bottom side shadow */
    border-top: 0px;
    overflow: hidden;
    
    padding: 25px; 
    border-radius: 10px; 
    height: 120px; 
  }
  .cpopup-content3{
    max-height: 100%;
    overflow-y: auto;

    box-shadow: 
      
        4px 0px 4px -2px rgb(255, 164, 164), /* Right side shadow */
        -4px 0px 4px -2px rgb(255, 164, 164), /* Left side shadow */
        0 -4px 4px -2px rgb(255, 164, 164);
      
        
    height: 100px; 
    border-radius: 10px; 
    border-bottom: 0px;
  }
  .cpopup-content4{
    max-height: 100%;
    overflow-y: auto;
    box-shadow: 
    4px 0px 4px -2px rgb(255, 164, 164), /* Right side shadow */
    -4px 0px 4px -2px rgb(255, 164, 164), /* Left side shadow */
    0px 4px 4px -2px rgb(255, 164, 164); /* Bottom side shadow */
    border-top: 0px;
    
    padding: 25px; 
    border-radius: 10px; 
    height: 120px; 
  }
</style>
</head>
<body>
<header>

  <div >
    <div class="mainlogo"><img src="{% static 'images/fc_logo.png' %}" alt="">  
                    <div class="about">
                        
                        <ul>

                          <li><a href="{% url 'userhome'%}">Home | </a></li>
                          <li><a href="{% url 'useraccount'%}">Account </a><span>|</span></li>
                            <li><a href="{% url 'wishlist' %}">Wishlist </a><span>|</span></li>
                            <li><a href="{% url 'cart' %}">Cart</a></li>
            
                        </ul>
                    </div>
        </div>
    </div>   

    <!-- ***** Header Area End ***** -->

  <!-- navmenu -->


</header>
<div style="width: 100%; height: 100px;">

</div>

<!-- End of the navmenu-->



  <!-- partial:partials/_sidebar.html -->
  


  <div>
    <div class="container main" id="main" >
    <div style="display: flex; background-color: #ffffff;">

       
            <div id="images" style="background-color: #ffffff;; margin-left: 50px;  box-shadow: 2px 2px 5px;">
              <!-- Your images go here -->


      
              <div style="height: 40px;"> <h3 style=" margin-left: 10px; " >Confirm Your Order </h3></div>
                
           


                <div  style="height: 140px;width: 100%; display: flex; border-radius: 10px;">
                    <div style="padding: 25px; width: 50%;">
                        <h6>Billing Address</h6>
                        {{address.name}} <br>
                        {{address.house_name}} &nbsp; &nbsp;
                        {{address.street_name}} <br>
                        {{address.city}} &nbsp; &nbsp;
                        {{address.state}}
                        {{address.pincode}}
                        
                    </div>
                    <button style="margin-left: 200px; height: 50px;" id="addAddressBtn" type="button" class="btn btn-gradient-primary me-2">Change Address</button>





                  
                </div>
                <div style="height: 20px; "></div>
           
              <div style="height: 200px; width: 100%;">
                
                <div style="height: 250px;width: 100%; display: flex; border: 1px solid rgb(130, 9, 9);  ">
                    <div style="width: 50%; padding: 10px;  ">
                       
                        <div style="padding: 8px; width: 60%;">
                            <h5>PAYMENT INFORMATION</h5>
                            
                            <table>
                                <tr >
                                    <td style="width: 200px; padding: 5px;">
                                       <h5>Value of Products</h5> 
                                    </td>
                                    <td>
                                       <h5>: &nbsp;<i class="fa fa-rupee " ></i>{{total}}</h5> 
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 200px; padding: 5px;">
                                       <h5 style="color: green;">Discount (-)</h5> 
                                    </td>
                                    <td>
                                       <h5 style="color: green;"> : &nbsp;<i class="fa fa-rupee " ></i>{{ discount|absolute }}</h5> 
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 200px; padding: 5px;">
                                       <h5 style="color: green;">Shipping</h5> 
                                    </td>
                                    <td>
                                       <h5 style="color: green;">: &nbsp;FREE</h5> 
                                    </td>
                                </tr>
                                <tr style="border-top: 1px solid rgb(120, 119, 119);border-bottom: 1px solid rgb(120, 119, 119)">
                                    <td style="width: 200px; padding: 5px;">
                                       <h5>Order Total</h5> 
                                    </td>
                                    <td>
                                       <h5>: &nbsp;<i class="fa fa-rupee " ></i>{{total_amount}}</h5> 
                                    </td>
                                </tr>
                                <tr >
                                    <td style="width: 200px; padding: 5px; ">
                                       <h5 style="font-weight: bold;">Net Payment</h5> 
                                    </td>
                                    <td>
                                       <h5 style="font-weight: bold;">: &nbsp;<i class="fa fa-rupee " ></i>{{total_amount}}</h5> 
                                    </td>
                                </tr>
                            </table>
                        
                          </div>
                        
                     
                    </div>
                    <div   style=" padding: 10px; background-color: rgb(239, 238, 238); width: 50%; ">
                       <div style="height: 5px;"></div>
                        <h5>PAYMENT METHOD</h5>
                        <br>
                       
                        <table >
                            <tr>
                              <form action="{% url 'order' %}?paymentmode=CashOnDelivery" method="post">
                                {% csrf_token %}
                                <td id="" style="width: 400px; ">
                                  <input type="hidden" value="{{total_amount}}" id="total">
                                  {% if checkingid%}
                             
                                  <input type="hidden" name="" id="ordid" value="{{ord.id}}">
                                  <button type="button" name="{{total_amount }}" class="btn btn-secondary  w-100"><strong>PLACE &nbsp; | &nbsp; COD &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i class="fa fa-rupee " ></i>{{ total_amount }}</strong></a>
                                  </button>
                                  {%else%}
                                          {%if total_amount > 1000 %}
                                          <button type="button" name="{{total_amount }}" class="btn btn-secondary  w-100"><strong>PLACE &nbsp; | &nbsp; COD &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i class="fa fa-rupee " ></i>{{ total_amount }}</strong></a>
                                            </button>
                                            <h6>COD Not available for amount more than 1000</h6>
                                          {%else%}
                                              <button type="button" name="{{total_amount }}" class="btn btn-success paywithcod w-100"><strong>PLACE &nbsp; | &nbsp; COD &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i class="fa fa-rupee " ></i>{{ total_amount }}</strong></a>
                                              </button>
                                              {%endif%}
                                    {%endif%}
                                   </td>
                            </tr>
                            <tr>
                            </form>
                                <td id="" style="width: 400px; ">
                                  {% if checkingid %}
                           
                                  <input type="hidden" name="id" value="{{checkingid}}" id="checkingid">
                                  <input type="hidden" id="total_amount" value="{{total_amount}}">
                                  <button type="button" name="{{total_amount }}" class="btn btn-primary paywithRazorfromOrder w-100"><strong>PAY WITH &nbsp; | &nbsp; RAZORPAY &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i class="fa fa-rupee " ></i>{{ total_amount }}</strong></a>
                                  </button>
                                  {%else%}
                                  <input type="hidden" id="total_amount" value="{{total_amount}}">
                                    <button type="button" name="{{total_amount }}" class="btn btn-primary paywithRazor w-100"><strong>PAY WITH &nbsp; | &nbsp; RAZORPAY &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<i class="fa fa-rupee " ></i>{{ total_amount }}</strong></a>
                                        </button>
                                        {%endif%}
                                          </td>
                            </tr>
                        </table>
                    
                    </div>
                   
                </div>
              </div>
              <div style=" height:150px;  margin-top: 60px; background-color: rgb(240, 240, 240); width: 355px; ">
                <br>
               
               <div style=" display: flex;   height: 40px;">
                <h5 style="font-size: 20px; margin-left: 5px; ">Apply Coupon</h5>  
                
                    <button type="button" id="viewcoupon" style=" margin-left: 140px;  margin-bottom: 10px; right: 0; top: 0; border: none; background: none; padding: 0 10px; cursor: pointer;">
                        <h6 style="color: blue;">View All</h6></button>
                   
            </div>
               <div>
                <div style="position: relative; display: inline-block; ">
                    
                    {% if couponDetails  %}
                    <input type="hidden" id="cpnid" value="{{couponDetails.id}}">
                    {% if checkingid %}
                    <form action="{% url 'confirm_order' %}" method="post">
                      <input type="hidden" name="id" id="ordid" value="{{ord.id}}">
                      {%csrf_token%}

                    {%else%}
                    <form action="{% url 'confirm_order' %}" method="get">
                      {%endif%}
                    <div style="padding-right: 40px; height: 60px; width: 355px; border:solid 1px green; border-radius: 5px; background-color: #fefcfc; ">
                       <h6 style="margin-left: 10px; margin-top: 10px; font-size: 18px;">{{couponDetails.name}} &nbsp; Applied </h6> 
                       <input type="hidden" id="cid" value="{{couponDetails.id}}">
                       <h6 style="margin-top: -20px;margin-left: 10px; color: green; " ><br> <i class="fa fa-rupee " ></i> {{ discount|absolute }} &nbsp;  Saved</h6>
                        <button type="submit" id="couponBtn2" style="position: absolute; right: 0; top: 0; border: none; background: none; padding: 0 10px; cursor: pointer;">
                            <img src="{% static 'images/trashicon.png'%}" style="height: 20px; width: 20px;" alt="">
                   
                        </button>
                    </div>
                </form>
                   
                    {% else %}
                    <input type="text" id="couponvalue" placeholder="Enter Coupon Code" style="padding-right: 40px; height: 45px; width: 355px;">
                    <button type="button" id="couponBtn1" style="position: absolute; right: 0; top: 0; border: none; background: none; padding: 0 10px; cursor: pointer;">Apply
                         </button>
                   
                    {% endif %}
                </div>
                  <label for="" id="errormsg" style="font-size: 14px; color: red;"></label>
               
                 
              
             
                </div>
              </div>
          </div>
        </div>
       
    </div>
</div>


<!-- Coupon Popup  -->


<div id="couponpopup" class="couponpopup">
    <button onclick="closecouponPopup()" style="border: none; margin-bottom: 5px;">X Close</button>
    <br>
    {% for items in allcoupon %}
    {% if items.id == couponDetails.id %}
      <div class="cpopup-content1"  >
        <h5>{{items.description}}</h5>
      </div>
      <div class="cpopup-content2"  >
        <div style="display: flex;">
        <div style="cursor: pointer;   width: 150px; height: 50px; border: 0px; border-radius: 5px; background-color: grey; color: white;">
          <h6 style="margin-top: 15px; margin-left: 20px;">{{items.name}}</h6></div>
      <div  style="cursor: pointer;  margin-right: 1px; width: 150px;  height: 50px; background-color: rgb(255, 255, 255); color: green; border: dotted 1px green; border-radius: 5px;">
        <h6 style="margin-top: 15px; margin-left: 50px;">APPLIED</h6></div>
     
      </div>
      <h5 style="margin-top: 2px; color: green;"><i class="fa fa-rupee " ></i> {{ discount|absolute }} &nbsp;  Saved</h5>
    
      </div>
     
      
        
        {%else%}
  
        <div class="cpopup-content3" >
            <input type="hidden" value="{{items.id}}" name="id">
            <h5>{{items.description}}</h5> 
         
        </div>
          <div class="cpopup-content4" style="display: flex;" >
            <div style="cursor: pointer;  width: 150px; height: 50px; border: dotted 1px blue; border-radius: 5px;  color: blue;">
              <h6 style="margin-top: 15px; margin-left: 20px;">{{items.name}}</h6></div>
              <input type="hidden" name="checkingid" id="checkingid" value="{{checkingid}}">
          <div id="couponBtn2" class="couponBtn2" data-id="{{items.id}}" style="cursor: pointer;   margin-right: 1px; width: 150px;  height: 50px; background-color: blue; color: white; border: 0px; border-radius: 5px;">
            <h6 style="margin-top: 15px; margin-left: 50px;">Apply</h6></div>
            
          </div>
          <label for="" data-id="{{items.id}}" style="color: red;"></label>
     
       
          {%endif%} 
       
      
       <br>
       {%endfor%}
         
       
   </div>



  </div>





<div id="popup" class="popup">
    <button onclick="closePopup()" style="border: none;">X</button>
    <br>
    {% for items in alladdress %}
    {% if items.default_value %}
      <div class="popup-content"  style="border: 1px solid rgb(163, 4, 4); box-shadow: 0 0 5px rgb(163, 4, 4);  padding: 25px; ">
        {%else%}
        <div class="popup-content"  style="border: 1px solid rgb(3, 3, 3); padding: 25px; ">
          {%endif%}
           <!-- Add your address form or content here -->
           {{items.name}} <br><input type="text" value="{{items.name}}" hidden name="name">
           {{items.house_name}} <br><input type="text" value="{{items.house_name}}" hidden name="house">
           {{items.street_name}} <br><input type="text" value="{{street_name}}" hidden name="street">
           {{items.city}} <br><input type="text" value="{{city}}" hidden name="city">
           {{items.state}}<input type="text" value="{{state}}" hidden name="state">
           {{items.pincode}}<input type="text" value="{{pincode}}" hidden name="pin"> 
           {{items.mobile}}<input type="text" value="{{mobile}}" hidden name="mobile">
           {%if items.default_value == False %}
          <a href="{% url 'make_default' items.id %}?n=1">
            <button style="margin-left: 200px;"  type="button" class="btn btn-gradient-primary me-2">Use</button>
          </a> 
          {%endif%} 
       </div>
      
       <br>
       {%endfor%}
       <button onclick="openAddAddrs()" style="margin-left: 200px;" id="newaddrs" type="button" class="btn btn-gradient-primary me-2">Add New Address</button>
         
       
   </div>



  </div>



  <div id="popupaddaddrs" class="popupaddaddrs">
    <button onclick="closeAddAddrs()" style="border: none;">X</button>
    <br>

      <div class="popupaddrs-content"  style="border: 1px solid rgb(163, 4, 4); box-shadow: 0 0 5px rgb(163, 4, 4);  padding: 25px; ">
        <form action="add_address" method="post">
          {%csrf_token%}
        <table  style="width: 800px;">
                
          <tr>
              <th style="padding: 15px; width: 200px;">Name</th>
              <td style="width: 400px;">
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="Name" name="name" aria-label="Name">
                     
              </td>
          </tr>
          <tr>
              <th style="padding: 15px;">House Name</th>
              <td> 
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="House Name" name="housename" aria-label="House Name">
              </td>
          </tr>
          <tr>
              <th style="padding: 15px;">Street Name</th>
              <td><input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="Street Name" name="streetname" aria-label="Street Name">
              </td>
          </tr>
          <tr>
              <th style="padding: 15px;"> Landmark</th>
              <td>
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="Landmark (optional)" name="landmark" aria-label="landmark">
                     
              </td>
          </tr>

          <tr>
              <th style="padding: 15px;"> Pincode</th>
              <td>
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="pincode" name="pincode" aria-label="pincode">
                     
              </td>
          </tr>

          <tr>
              <th style="padding: 15px;"> City</th>
              <td>
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="city" name="city" aria-label="city">
                     
              </td>
          </tr>

          <tr>
              <th style="padding: 15px;"> State</th>
              <td>
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="state" name="state" aria-label="state">
                     
              </td>
          </tr>

          <tr>
              <th style="padding: 15px;"> Country</th>
              <td>
                  <input type="text" style="width: 400px;" class="form-control form-control-sm" placeholder="Country" name="country" aria-label="country" value="India">
                     
              </td>
          </tr>
          <tr>
              <td></td>
              <td>
                  <button type="submit" name="cart" class="btn btn-gradient-primary me-2">Submit</button>
                  <button type="button" onclick="saveChanges()" class="btn btn-gradient-primary me-2">Cancel</button>
              </td>
          </tr>
      </table>
          </form>
       </div>
      
       <br>
      
   </div>



  </div>




<!-- ***** Footer Start ***** -->
<footer >
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="first-item">
                    <div class="logo">
                        <img src="{% static 'images/fc_logo.png' %}" alt="hexashop ecommerce templatemo">
                    </div>
                    <ul>
                        <li><a href="#">16501 Collins Ave, Sunny Isles Beach, FL 33160, United States</a></li>
                        <li><a href="#">firstcry.com</a></li>
                        <li><a href="#">010-020-0340</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3">
                <h4>Shopping &amp; Categories</h4>
                <ul>
                    <li><a href="#">Men’s Shopping</a></li>
                    <li><a href="#">Women’s Shopping</a></li>
                    <li><a href="#">Kid's Shopping</a></li>
                </ul>
            </div>
            <div class="col-lg-3">
                <h4>Useful Links</h4>
                <ul>
                    <li><a href="#">Homepage</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
            <div class="col-lg-3">
                <h4>Help &amp; Information</h4>
                <ul>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">FAQ's</a></li>
                    <li><a href="#">Shipping</a></li>
                    <li><a href="#">Tracking ID</a></li>
                </ul>
            </div>
            <div class="col-lg-12">
                <div class="under-footer">
                    <p>Copyright © 2022 Firstcry. All Rights Reserved. 
                    
                   
                    <ul>
                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fa fa-behance"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
  </footer>
  
  
  
  
  
  
  
  
  
  
  
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  
  
  <script src="{% static 'js/forpopup.js' %}"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="{% static 'js/checkout1.js' %}"></script>
  <script src="{% static 'js/checkout.js' %}"></script>
  <script src="{% static 'js/add-coupon.js' %}"></script>

  


  
  </body>
  </html>